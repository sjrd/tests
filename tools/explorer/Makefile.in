include ../Makefile.vars
include $(TOPDIR)/Makefile.rules

OZEXPLORER  = $(OZLIB)/explorer

LOCALFILES = \
	main.oz misc.oz action-nodes.oz hide-nodes.oz \
	layout-nodes.oz manager.oz \
	menu-manager.oz move-nodes.oz tk-nodes.oz \
	configure.oz nodes.oz toplevel-manager.oz \
	default-actions.oz search-nodes.oz stat-nodes.oz \
	dialog-manager.oz shapes-and-images.oz status-manager.oz

BITMAPS = \
	explorer.xbm


LOCALBITMAPFILES = ${BITMAPS:%=$(SRCDIR)/bitmaps/%}
LIBFILES = ${LOCALFILES:%.oz=$(OZEXPLORER)/%.oz}
SRCS = ${LOCALFILES:%.oz=$(SRCDIR)/explorer/%.oz}

all:: touch

touch: $(SRCS)
	$(TOUCH) $@

realclean::
	$(RM) touch

install:: $(OZEXPLORER) $(LIBFILES) bitmaps

bitmaps: $(LOCALBITMAPFILES)
	$(INSTALLFILE) $(LOCALBITMAPFILES) $(OZLIB)/bitmaps

$(OZEXPLORER):
	$(INSTALLDIR) $@

$(OZEXPLORER)/%.oz: %.oz
	$(INSTALLSRC) '$<' '$@'

